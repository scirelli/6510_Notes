<HTML><HEAD><TITLE>All_About_Your_1581-Online-Help Version 0.13</TITLE></HEAD>
<BODY><PRE>

Byte aus aktuellem Puffer holen ($d137)
E: $50: Kanalnummer
A: a  : aktuelles Byte
   z  : 1: Blockende

Einsprung von <A HREF="RO818FD6.HTM">$8FDF</A>, <A HREF="RO818FD6.HTM">$8FE4</A>, <A HREF="RO81909B.HTM">$909B</A>, <A HREF="RO81909B.HTM">$90CC</A>, <A HREF="RO81909B.HTM">$90D5</A>, <A HREF="RO81909B.HTM">$9107</A>, <A HREF="RO819370.HTM">$938F</A>,
              <A HREF="RO8198F7.HTM">$994B</A>, <A HREF="RO819DCE.HTM">$9DD3</A>, <A HREF="RO819DCE.HTM">$9DD8</A>, <A HREF="RO81B245.HTM">$B245</A>, <A HREF="RO81B2C7.HTM">$B2D5</A>, <A HREF="RO81B2C7.HTM">$B2DA</A>:

9071: A6 50     LDX <A HREF="RA8150.HTM">$50</A>          Kanal- und Puffernummer holen
9073: B5 D1     LDA <A HREF="RA81D1.HTM">$D1</A>,X        [Dies entspricht exakt der Routine $9069.
9075: 10 02     BPL $9079         Bei der 1541 stand hier nur ein JSR
9077: B5 D8     LDA <A HREF="RA81D8.HTM">$D8</A>,X         dorthin. Diese Version spart

Einsprung von $9075:

9079: 29 BF     AND #$BF          2 x JSR, 2 x RTS (2x6 + 2x6 = 24 Takte)
907B: 0A        ASL               fuer jedes gelesene Byte
907C: AA        TAX               = 0.6 sec bei 202 Blocks.]
907D: A4 50     LDY <A HREF="RA8150.HTM">$50</A>

907F: B9 42 02  LDA <A HREF="RA810242.HTM">$0242</A>,Y      Zeiger auf Pufferende = 0 ?
9082: F0 12     BEQ $9096        (nicht letzter Block) ja, ==&gt;

Byte aus letztem Block einer Datei holen

9084: A1 BB     LDA (<A HREF="RA81BB.HTM">$BB</A>,X)      Byte holen
9086: 48        PHA
9087: B5 BB     LDA <A HREF="RA81BB.HTM">$BB</A>,X        Dateiende ?
9089: D9 42 02  CMP <A HREF="RA810242.HTM">$0242</A>,Y
908C: D0 04     BNE $9092        nein, ==&gt;
908E: A9 FF     LDA #$FF         Pufferzeiger auf 0 setzen
9090: 95 BB     STA <A HREF="RA81BB.HTM">$BB</A>,X        ($ff wegen inc bb,x (setzt das z-Flag))

Einsprung von $908C:

9092: 68        PLA
9093: F6 BB     INC <A HREF="RA81BB.HTM">$BB</A>,X        Pufferzeiger erhoehen
9095: 60        RTS
Byte aus allen anderen Bloecken einer Datei holen

Einsprung von $9082:

9096: A1 BB     LDA (<A HREF="RA81BB.HTM">$BB</A>,X)      Byte holen
9098: F6 BB     INC <A HREF="RA81BB.HTM">$BB</A>,X        Pufferzeiger erhoehen
909A: 60        RTS

    <A HREF="RO819069.HTM">Previous Page</A> / <A HREF="RO81909B.HTM">Next Page</A>

</PRE></BODY></HTML>
