<HTML><HEAD><TITLE>All_About_Your_1541-Online-Help Version 0.23</TITLE></HEAD>
<BODY><PRE>

 $EDB3/60851:   ?

Jump from $EDDD:

EDB3: C8        INY
EDB4: B1 94     LDA (<A HREF="RA4194.HTM">$94</A>),Y     ; save track
EDB6: 48        PHA
EDB7: C8        INY
EDB8: B1 94     LDA (<A HREF="RA4194.HTM">$94</A>),Y     ; and sector
EDBA: 48        PHA
EDBB: A0 13     LDY #$13        ; pointer to side-sector block
EDBD: B1 94     LDA (<A HREF="RA4194.HTM">$94</A>),Y
EDBF: F0 0A     BEQ $EDCB       ; no track following?
EDC1: 85 80     STA <A HREF="RA4180.HTM">$80</A>         ; track and
EDC3: C8        INY
EDC4: B1 94     LDA (<A HREF="RA4194.HTM">$94</A>),Y
EDC6: 85 81     STA <A HREF="RA4181.HTM">$81</A>         ; sector of 1st side-sector block
EDC8: 20 E5 ED  JSR <A HREF="RO41EDE5.HTM">$EDE5</A>       ; mark side-sector block as

Jump from $EDBF:

EDCB: 68        PLA             ; allocated
EDCC: 85 81     STA <A HREF="RA4181.HTM">$81</A>
EDCE: 68        PLA             ; get track and sector back
EDCF: 85 80     STA <A HREF="RA4180.HTM">$80</A>
EDD1: 20 E5 ED  JSR <A HREF="RO41EDE5.HTM">$EDE5</A>       ; mark blocks of file as allocated

Jump from $EDE2:

EDD4: 20 04 C6  JSR <A HREF="RO41C5AC.HTM">$C604</A>       ; read next entry in directory
EDD7: F0 C3     BEQ <A HREF="RO41ED84.HTM">$ED9C</A>       ; end of directory?

Jump from <A HREF="RO41ED84.HTM">$ED9A</A>:

EDD9: A0 00     LDY #$00
EDDB: B1 94     LDA (<A HREF="RA4194.HTM">$94</A>),Y     ; file type
EDDD: 30 D4     BMI $EDB3       ; bit 7 set, file closed?
EDDF: 20 B6 C8  JSR <A HREF="RO41C8B6.HTM">$C8B6</A>       ; file type to zero and write BAM
EDE2: 4C D4 ED  JMP $EDD4

    <A HREF="RO41ED84.HTM">Previous Page</A> / <A HREF="RO41EDE5.HTM">Next Page</A>

</PRE></BODY></HTML>
