<HTML><HEAD><TITLE>All_About_Your_1541-Online-Help Version 0.23</TITLE></HEAD>
<BODY><PRE>

 $DA2A/55850:   Preparation for append

Jump from $DA32, <A HREF="RO41C8F0.HTM">$C996</A>, <A HREF="RO41D940.HTM">$D99A</A>:

DA2A: 20 39 CA  JSR <A HREF="RO41CA35.HTM">$CA39</A>       ; open channel to read, get byte
DA2D: A9 80     LDA #$80
DA2F: 20 A6 DD  JSR <A HREF="RO41DDA6.HTM">$DDA6</A>       ; last byte?
DA32: F0 F6     BEQ $DA2A       ; no
DA34: 20 95 DE  JSR <A HREF="RO41DE95.HTM">$DE95</A>       ; get track and sector number
DA37: A6 81     LDX <A HREF="RA4181.HTM">$81</A>         ; sector number
DA39: E8        INX
DA3A: 8A        TXA
DA3B: D0 05     BNE $DA42       ; not $FF?
DA3D: 20 A3 D1  JSR <A HREF="RO41D19D.HTM">$D1A3</A>       ; close buffer, write block
DA40: A9 02     LDA #$02

Jump from $DA3B:

DA42: 20 C8 D4  JSR <A HREF="RO41D4C8.HTM">$D4C8</A>       ; buffer pointer to 2
DA45: A6 82     LDX <A HREF="RA4182.HTM">$82</A>         ; channel number
DA47: A9 01     LDA #$01
DA49: 95 F2     STA <A HREF="RA41F2.HTM">$F2</A>,X       ; set flag for WRITE
DA4B: A9 80     LDA #$80
DA4D: 05 82     ORA <A HREF="RA4182.HTM">$82</A>
DA4F: A6 83     LDX <A HREF="RA4183.HTM">$83</A>
DA51: 9D 2B 02  STA <A HREF="RA41022B.HTM">$022B</A>,X     ; channel number in table
DA54: 60        RTS

    <A HREF="RO41DA09.HTM">Previous Page</A> / <A HREF="RO41DA55.HTM">Next Page</A>

</PRE></BODY></HTML>
