<HTML><HEAD><TITLE>All_About_Your_1541-Online-Help Version 0.23</TITLE></HEAD>
<BODY><PRE>

 $E03C/57404:   Write block and read next block

Jump from <A HREF="RO41DFD0.HTM">$DFF3</A>, <A HREF="RO41E07C.HTM">$E0A7</A>, <A HREF="RO41E120.HTM">$E135</A>:

E03C: 20 D3 D1  JSR <A HREF="RO41D1D3.HTM">$D1D3</A>       ; get drive number
E03F: 20 95 DE  JSR <A HREF="RO41DE95.HTM">$DE95</A>       ; get track and sector number
E042: 20 9E DF  JSR <A HREF="RO41DF9E.HTM">$DF9E</A>       ; get bufer number
E045: 50 16     BVC $E05D       ; no rel-file?
E047: 20 5E DE  JSR <A HREF="RO41DE5E.HTM">$DE5E</A>       ; write block
E04A: 20 1E CF  JSR <A HREF="RO41CF1E.HTM">$CF1E</A>       ; change buffer
E04D: A9 02     LDA #$02
E04F: 20 C8 D4  JSR <A HREF="RO41D4C8.HTM">$D4C8</A>       ; buffer pointer to 2
E052: 20 AB DD  JSR <A HREF="RO41DDAB.HTM">$DDAB</A>       ; command code for writing?
E055: D0 24     BNE $E07B       ; no
E057: 20 57 DE  JSR <A HREF="RO41DE57.HTM">$DE57</A>       ; read block
E05A: 4C 99 D5  JMP <A HREF="RO41D599.HTM">$D599</A>       ; and verify

Jump from $E045:

E05D: 20 1E CF  JSR <A HREF="RO41CF1E.HTM">$CF1E</A>       ; change buffer
E060: 20 AB DD  JSR <A HREF="RO41DDAB.HTM">$DDAB</A>       ; command code for writing?
E063: D0 06     BNE $E06B       ; no
E065: 20 57 DE  JSR <A HREF="RO41DE57.HTM">$DE57</A>       ; read block
E068: 20 99 D5  JSR <A HREF="RO41D599.HTM">$D599</A>       ; and verify

Jump from $E063:

E06B: 20 95 DE  JSR <A HREF="RO41DE95.HTM">$DE95</A>       ; get track and sector number
E06E: A5 80     LDA <A HREF="RA4180.HTM">$80</A>         ; track
E070: F0 09     BEQ $E07B       ; no following track
E072: 20 1E CF  JSR <A HREF="RO41CF1E.HTM">$CF1E</A>       ; change buffer
E075: 20 57 DE  JSR <A HREF="RO41DE57.HTM">$DE57</A>       ; read block
E078: 20 1E CF  JSR <A HREF="RO41CF1E.HTM">$CF1E</A>       ; change buffer

Jump from $E055, $E070:

E07B: 60        RTS

    <A HREF="RO41DFD0.HTM">Previous Page</A> / <A HREF="RO41E07C.HTM">Next Page</A>

</PRE></BODY></HTML>
