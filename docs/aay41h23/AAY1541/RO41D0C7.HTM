<HTML><HEAD><TITLE>All_About_Your_1541-Online-Help Version 0.23</TITLE></HEAD>
<BODY><PRE>

 $D0C7/53447:   Write block

Jump from <A HREF="RO41D19D.HTM">$D1B8</A>, <A HREF="RO41D48D.HTM">$D4B0</A>, <A HREF="RO41DB62.HTM">$DB9C</A>:

D0C7: A9 90     LDA #$90        ; code for 'write'

Jump from <A HREF="RO41D0C3.HTM">$D0C5</A>:

D0C9: 8D 4D 02  STA <A HREF="RA41024D.HTM">$024D</A>       ; save
D0CC: 20 93 DF  JSR <A HREF="RO41DF93.HTM">$DF93</A>       ; get buffer number
D0CF: AA        TAX
D0D0: 20 06 D5  JSR <A HREF="RO41D506.HTM">$D506</A>       ; get track/sector, read/write block
D0D3: 8A        TXA
D0D4: 48        PHA
D0D5: 0A        ASL             ; buffer pointer times 2
D0D6: AA        TAX
D0D7: A9 00     LDA #$00
D0D9: 95 99     STA <A HREF="RA4199.HTM">$99</A>,X       ; pointer in buffer to zero
D0DB: 20 25 D1  JSR <A HREF="RO41D125.HTM">$D125</A>       ; get file type
D0DE: C9 04     CMP #$04        ; rel-file or direct access?
D0E0: B0 06     BCS $D0E8       ; yes
D0E2: F6 B5     INC <A HREF="RA41B5.HTM">$B5</A>,X
D0E4: D0 02     BNE $D0E8       ; increment block counter
D0E6: F6 BB     INC <A HREF="RA41BB.HTM">$BB</A>,X

Jump from $D0E0, $D0E4:

D0E8: 68        PLA
D0E9: AA        TAX
D0EA: 60        RTS

    <A HREF="RO41D0C3.HTM">Previous Page</A> / <A HREF="RO41D0EB.HTM">Next Page</A>

</PRE></BODY></HTML>
