<HTML><HEAD><TITLE>All_About_Your_1541-Online-Help Version 0.23</TITLE></HEAD>
<BODY><PRE>

 $D6A6/54950:   Attempt command execution multiple times

Jump from <A HREF="RO41D5C6.HTM">$D5D9</A>, <A HREF="RO41D5C6.HTM">$D616</A>, <A HREF="RO41D5C6.HTM">$D655</A>, <A HREF="RO41D5C6.HTM">$D666</A>:

D6A6: A5 6A     LDA <A HREF="RA416A.HTM">$6A</A>         ; maximum number of repetitions
D6A8: 29 3F     AND #$3F
D6AA: A8        TAY

Jump from $D6C2:

D6AB: AD 6D 02  LDA <A HREF="RA41026D.HTM">$026D</A>       ; bit for LED
D6AE: 4D 00 1C  EOR <A HREF="VIA20.HTM">$1C00</A>
D6B1: 8D 00 1C  STA <A HREF="VIA20.HTM">$1C00</A>
D6B4: BD 5B 02  LDA <A HREF="RA41025B.HTM">$025B</A>,X     ; command
D6B7: 95 00     STA <A HREF="RA4100.HTM">$00</A>,X       ; transmit to disk controller

Jump from $D6BB:

D6B9: B5 00     LDA <A HREF="RA4100.HTM">$00</A>,X       ; and return message
D6BB: 30 FC     BMI $D6B9       ; wait
D6BD: C9 02     CMP #$02        ; ok?
D6BF: 90 03     BCC $D6C4       ; yes
D6C1: 88        DEY             ; decrement counter
D6C2: D0 E7     BNE $D6AB       ; attempt again

Jump from $D6BF:

D6C4: 48        PHA
D6C5: AD 6D 02  LDA <A HREF="RA41026D.HTM">$026D</A>
D6C8: 0D 00 1C  ORA <A HREF="VIA20.HTM">$1C00</A>       ; LED off
D6CB: 8D 00 1C  STA <A HREF="VIA20.HTM">$1C00</A>
D6CE: 68        PLA
D6CF: 60        RTS

    <A HREF="RO41D693.HTM">Previous Page</A> / <A HREF="RO41D6D0.HTM">Next Page</A>

</PRE></BODY></HTML>
