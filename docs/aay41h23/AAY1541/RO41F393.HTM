<HTML><HEAD><TITLE>All_About_Your_1541-Online-Help Version 0.23</TITLE></HEAD>
<BODY><PRE>

 $F393/62355:   Initialise pointer in buffer

Jump from <A HREF="RO41F2F9.HTM">$F301</A>, <A HREF="RO41F423.HTM">$F43A</A>, <A HREF="RO41F423.HTM">$F48F</A>:

F393: A4 3F     LDY <A HREF="RA413F.HTM">$3F</A>         ; buffer number

Jump from <A HREF="RO41F2F9.HTM">$F30C</A>:

F395: B9 00 00  LDA <A HREF="RA4100.HTM">$00</A>,Y       ; command code
F398: 48        PHA             ; save
F399: 10 10     BPL $F3AB
F39B: 29 78     AND #$78        ; erase bits 0,1,2, and 7
F39D: 85 45     STA <A HREF="RA4145.HTM">$45</A>
F39F: 98        TYA             ; buffer number
F3A0: 0A        ASL             ; times two
F3A1: 69 06     ADC #$06        ; plus 6
F3A3: 85 32     STA <A HREF="RA4132.HTM">$32</A>         ; equals pointer to actual buffer
F3A5: 98        TYA             ; buffer number
F3A6: 18        CLC
F3A7: 69 03     ADC #$03        ; plus 3
F3A9: 85 31     STA <A HREF="RA4130.HTM">$31</A>         ; equals buffer address hi

Jump from $F399:

F3AB: A0 00     LDY #$00
F3AD: 84 30     STY <A HREF="RA4130.HTM">$30</A>         ; buffer address lo
F3AF: 68        PLA             ; get command code back
F3B0: 60        RTS

    <A HREF="RO41F37C.HTM">Previous Page</A> / <A HREF="RO41F3B1.HTM">Next Page</A>

</PRE></BODY></HTML>
